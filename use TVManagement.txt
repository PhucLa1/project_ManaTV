//Ver2
CREATE DATABASE TVManagement;
use TVManagement





--Tạo bảng hãng sản xuất
CREATE TABLE Manufacturer (
    id INT IDENTITY(1,1) PRIMARY KEY,
    manufacturer_name VARCHAR(25),
    manufacturer_address VARCHAR(50),
    manufacturer_status TINYINT DEFAULT 1
)

--Tạo bảng kiểu dáng
CREATE TABLE Designs(
    id INT IDENTITY(1,1) PRIMARY KEY,
    design_name VARCHAR(25),
    design_status TINYINT DEFAULT 1
)

--Tạo bảng màu sắc
CREATE TABLE Colors(
    id INT IDENTITY(1,1) PRIMARY KEY,
    color_name VARCHAR(25),
    color_value VARCHAR(20), -- Chú ý cột này để lưu giá trị màu, có thể là tên màu hoặc mã màu RGB
    color_status TINYINT DEFAULT 1
)

--Tạo bảng màn hình
CREATE TABLE Screen(
    id INT IDENTITY(1,1) PRIMARY KEY,
    screen_name VARCHAR(25),
    screen_status TINYINT DEFAULT 1
)

--Tạo bảng cỡ màn hình 
CREATE TABLE ScreenSize(
    id INT IDENTITY(1,1) PRIMARY KEY,
    screen_size FLOAT,
    size_status TINYINT DEFAULT 1
)

--Tạo bảng nước sản xuất
CREATE TABLE CountryOfManufacture(
    id INT IDENTITY(1,1) PRIMARY KEY,
    country_name VARCHAR(25),
    country_status TINYINT DEFAULT 1
)

--Tạo bảng sản phẩm 
CREATE TABLE Products(
    id INT IDENTITY(1,1) PRIMARY KEY,
    product_name VARCHAR(50),
    manufacturer_id INT,
    design_id INT,
    color_id INT,
    screen_id INT,
    size_id INT,
    country_id INT,
    product_amount INT,
    product_status TINYINT DEFAULT 1
)

--Tạo bảng ảnh
CREATE TABLE Images(
    id INT IDENTITY(1,1) PRIMARY KEY,
    product_id INT,
    image_path VARCHAR(100),
    image_status TINYINT DEFAULT 1
)



--Tạo bảng chi tiết hóa đơn bán
CREATE TABLE SellBillDetail(
    id INT IDENTITY(1,1) PRIMARY KEY,
    product_id INT,
    sell_amount INT,
    sell_voucher FLOAT,
    sell_bill_id INT,
    sell_detail_status TINYINT DEFAULT 1
)

--Tạo bảng hóa đơn bán
CREATE TABLE SellBill(
    id INT IDENTITY(1,1) PRIMARY KEY,
    sell_amount INT,
    customer_id INT,
    staff_id INT,
    sell_date DATE,
    sell_tax INT,
    sell_bill_status TINYINT DEFAULT 1
)

--Tạo bảng chi tiết hóa đơn nhập
CREATE TABLE ImportBillDetail(
    id INT IDENTITY(1,1) PRIMARY KEY,
    product_id INT,
    import_amount INT,
    import_voucher FLOAT,
    import_bill_id INT,
    import_detail_status TINYINT DEFAULT 1
)

--Tạo bảng hóa đơn nhập
CREATE TABLE ImportBill(
    id INT IDENTITY(1,1) PRIMARY KEY,
    import_amount INT,
    supplier_id INT,
    staff_id INT,
    import_date DATE,
    import_bill_status TINYINT DEFAULT 1
)

--Tạo bảng nhà cung cấp
CREATE TABLE Supplier(
    id INT IDENTITY(1,1) PRIMARY KEY,
    supplier_name VARCHAR(25),
    supplier_address VARCHAR(50),
    supplier_phoneNumber VARCHAR(11),
    supplier_status TINYINT DEFAULT 1
)

--Tạo bảng khách hàng
CREATE TABLE Customers(
    id INT IDENTITY(1,1) PRIMARY KEY,
    customer_name VARCHAR(25),
    customer_address VARCHAR(50),
    customer_phoneNumber VARCHAR(11),
    customer_status TINYINT DEFAULT 1
)

--Tạo bảng nhân viên 
CREATE TABLE Staff(
    id INT IDENTITY(1,1) PRIMARY KEY,
    staff_name VARCHAR(25),
    staff_gender BIT,
    staff_phoneNumber VARCHAR(11),
    staff_dob DATE,
    staff_address VARCHAR(50),
    staff_email VARCHAR(25),
    staff_work_id INT,
    staff_status TINYINT DEFAULT 1
)

--Tạo bảng Nhanvien_Calam
CREATE TABLE Staff_ShiftWork(
    id INT IDENTITY(1,1) PRIMARY KEY,
    staff_id INT,
    shiftwork_id INT,
    staff_shift_status TINYINT DEFAULT 1
)

--Tạo bảng Ca làm
CREATE TABLE ShiftWork(
    id INT IDENTITY(1,1) PRIMARY KEY,
    shiftwork_name VARCHAR(10),
    shiftwork_description VARCHAR(MAX),
    shiftwork_status TINYINT DEFAULT 1
)

--Tạo bảng công việc 
CREATE TABLE Work(
    id INT IDENTITY(1,1) PRIMARY KEY,
    work_name VARCHAR(50),
    work_description VARCHAR(MAX),
    work_status TINYINT DEFAULT 1
)



 CREATE DATABASE TVManagement;

use TVManagement
--Tạo bảng hãng sản xuất
Create table Manufacturer (
id int identity(1,1) primary key,
names varchar(25),
addresss varchar(50),
statuss TINYINT DEFAULT 1
)

--Tạo bảng kiểu dáng
create table Designs(
id int identity(1,1) primary key,
name varchar(25),
statuss TINYINT DEFAULT 1
)

--Tạo bảng màu sắc
create table Colors(
id int identity(1,1) primary key,
names varchar(25),
--Tên màu có thể lưu theo tên dạng như : red, green
--Cũng có thể lưu theo màu RGB dạng như : 24,23,29
statuss TINYINT DEFAULT 1
)

--Tạo bảng màn hình
create table Screen(
id int identity(1,1) primary key,
names varchar(25),
statuss TINYINT DEFAULT 1
)


--Tạo bảng cỡ màn hình 
create table ScreenSize(
id int identity(1,1) primary key,
size float,
statuss TINYINT DEFAULT 1
)

--Tạo bảng nước sản xuất
create table CountryOfManufacture(
id int identity(1,1) primary key,
names varchar(25),
statuss TINYINT DEFAULT 1
)

--Tạo bảng sản phẩm 
create table Products(
id int identity(1,1) primary key,
names varchar(50),
id_Manufacturer int,
id_Designs int,
id_Colors int,
id_Screen int,
id_ScreenSize int,
id_COfManufacture int,
amount int,
statuss TINYINT DEFAULT 1
)

--Tạo bảng ảnh
create table Images(
id int identity(1,1) primary key,
id_Products int,
imagePath varchar(100),
statuss TINYINT DEFAULT 1
)

--Tạo bảng chi tiết hóa đơn bán
create table sellBillDetail(
id int identity(1,1) primary key,
id_Products int,
amount int,
voucher float , -- Voucher ở đây tức là phần trăm được giảm giá khi khách hàng mua hàng
id_sellBill int,
statuss TINYINT DEFAULT 1
)


--Tạo bảng hóa đơn bán
create table sellBill(
id int identity(1,1) primary key,
amount int  ,--ở đây tức là số hóa đơn bán
id_Customers int,  --Id khách hàng
id_Staff int, --id nhân viên 
dateOfSell date, --ngày bán
tax int , --Thuế
statuss TINYINT DEFAULT 1
)

--Tạo bảng chi tiết hóa đơn nhập
create table importBillDetail(
id int identity(1,1) primary key,
id_Products int,
amount int,
voucher float ,
id_importBill int,
statuss TINYINT DEFAULT 1
)


--Tạo bảng  hóa đơn nhập
create table importBill(
id int identity(1,1) primary key,
amount int, -- số hóa đơn nhập
id_Customers int,  --Id khách hàng
id_Staff int, --id nhân viên 
dateOfImport date,  --ngày nhập
statuss TINYINT DEFAULT 1
)

--Tạo bảng nhà cung cấp
create table Supplier(
id int identity(1,1) primary key,
names varchar(25),
addresss varchar(50),
phoneNumber varchar(11),
statuss TINYINT DEFAULT 1
)

--Tạo bảng khách hàng
create table Customers(
id int identity(1,1) primary key,
names varchar(25),
addresss varchar(50),
phoneNumber varchar(11),
statuss TINYINT DEFAULT 1
)

--Tạo bảng nhân viên 
create table Staff(
id int identity(1,1) primary key,
names varchar(25),
gender bit ,  --Chứa giá trị 0,1 0: nam, 1 : nữ
phoneNumber varchar(11),
dob date,
addresss varchar(50),
email varchar(25),
id_Work int,
statuss TINYINT DEFAULT 1
)

--Tạo bảng Nhanvien_Calam
create table Staff_ShiftWork(
id int identity(1,1) primary key,
id_Staff int,
id_ShiftWork int,
statuss TINYINT DEFAULT 1
)


--Tạo bảng Ca làm
create table ShiftWork(
id int identity(1,1) primary key,
names varchar(10),
descri VARCHAR(MAX),
statuss TINYINT DEFAULT 1
)

--Tạo bảng công việc 
create table Work(
id int identity(1,1) primary key,
names varchar(50),
descri VARCHAR(MAX),
statuss TINYINT DEFAULT 1
)


